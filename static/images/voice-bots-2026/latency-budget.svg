<svg xmlns="http://www.w3.org/2000/svg" width="1200" height="340" viewBox="0 0 1200 340" role="img" aria-label="Voice bot latency budget pipeline">
  <defs>
    <style>
      .title{font:700 26px ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial; fill:#111}
      .label{font:600 16px ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial; fill:#111}
      .small{font:500 13px ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial; fill:#333}
      .box{rx:14; ry:14; fill:#fff; stroke:#111; stroke-width:2}
      .hot{fill:#fff1f1; stroke:#b30000}
      .arrow{stroke:#111; stroke-width:3; fill:none; marker-end:url(#m)}
      .hotarrow{stroke:#b30000; stroke-width:3; fill:none; marker-end:url(#mhot)}
    </style>
    <marker id="m" markerWidth="12" markerHeight="12" refX="10" refY="6" orient="auto">
      <path d="M0,0 L12,6 L0,12 Z" fill="#111"/>
    </marker>
    <marker id="mhot" markerWidth="12" markerHeight="12" refX="10" refY="6" orient="auto">
      <path d="M0,0 L12,6 L0,12 Z" fill="#b30000"/>
    </marker>
  </defs>

  <text x="40" y="52" class="title">Latency budget (what actually makes voice bots feel “live”)</text>
  <text x="40" y="80" class="small">Measure p50 and p95 for the red blocks. That’s where “magic” dies in production.</text>

  <!-- boxes -->
  <rect x="40" y="120" width="170" height="70" class="box"/>
  <text x="125" y="155" text-anchor="middle" class="label">Mic audio</text>

  <rect x="240" y="120" width="170" height="70" class="box"/>
  <text x="325" y="148" text-anchor="middle" class="label">VAD</text>
  <text x="325" y="170" text-anchor="middle" class="small">speech start/stop</text>

  <rect x="440" y="120" width="210" height="70" class="box"/>
  <text x="545" y="148" text-anchor="middle" class="label">Streaming STT</text>
  <text x="545" y="170" text-anchor="middle" class="small">partials + stability</text>

  <rect x="680" y="120" width="210" height="70" class="box hot"/>
  <text x="785" y="148" text-anchor="middle" class="label">Endpointing</text>
  <text x="785" y="170" text-anchor="middle" class="small">soft end / hard end</text>

  <rect x="920" y="120" width="230" height="70" class="box hot"/>
  <text x="1035" y="148" text-anchor="middle" class="label">LLM TTFT</text>
  <text x="1035" y="170" text-anchor="middle" class="small">+ streaming tokens</text>

  <rect x="200" y="230" width="230" height="70" class="box hot"/>
  <text x="315" y="258" text-anchor="middle" class="label">Streaming TTS</text>
  <text x="315" y="280" text-anchor="middle" class="small">TTFA + chunk cadence</text>

  <rect x="480" y="230" width="240" height="70" class="box hot"/>
  <text x="600" y="258" text-anchor="middle" class="label">Playback buffer</text>
  <text x="600" y="280" text-anchor="middle" class="small">jitter + device I/O</text>

  <rect x="770" y="230" width="200" height="70" class="box"/>
  <text x="870" y="258" text-anchor="middle" class="label">User hears</text>
  <text x="870" y="280" text-anchor="middle" class="small">perceived latency</text>

  <!-- arrows top row -->
  <path d="M210 155 L240 155" class="arrow"/>
  <path d="M410 155 L440 155" class="arrow"/>
  <path d="M650 155 L680 155" class="hotarrow"/>
  <path d="M890 155 L920 155" class="hotarrow"/>

  <!-- arrows down to TTS path -->
  <path d="M1035 190 L1035 215 L430 215" class="hotarrow"/>
  <path d="M430 215 L430 265 L430 265" opacity="0"/>
  <path d="M920 265 L430 265" opacity="0"/>
  <path d="M920 265" opacity="0"/>

  <!-- arrows bottom row -->
  <path d="M430 265 L480 265" class="hotarrow"/>
  <path d="M720 265 L770 265" class="arrow"/>

  <!-- connecting LLM to TTS -->
  <path d="M1035 190 L1035 210 L315 210 L315 230" class="hotarrow"/>

</svg>
